"0","        "
"0","demos <- o %>%"
"0","    group_by(year) %>% "
"0","    summarise(black=sum(black_prison_pop,na.rm=TRUE),"
"0","              asian=sum(asian_prison_pop,na.rm=TRUE),"
"0","              latino=sum(latino_prison_pop,na.rm=TRUE),"
"0","              native=sum(native_prison_pop,na.rm=TRUE),"
"0","              other=sum(other_prison_pop,na.rm=TRUE),"
"0","              white=sum(white_prison_pop,na.rm=TRUE)"
"0","              ) %>% "
"0","    filter(year %in% seq(1983,2015))"
"0",""
"0","demos %>% "
"0","    pivot_longer(cols=""black"":""white"",names_to=""dgraphic"") %>% "
"0","    group_by(year,dgraphic) %>% "
"0","    ggplot(aes(x=year)) +"
"0","        geom_line(aes(y=value/1e3,color=dgraphic),size=1.1) +"
"0","        xlab("""") + ylab(""total in thousands"") +"
"0","        ggtitle(""u.s. prison population (in thousands)"") +"
"0","        facet_wrap(~dgraphic,nrow=2) +"
"0","        theme(legend.title=element_blank()) +"
"0","        scale_color_brewer(palette=""Set1"")"
