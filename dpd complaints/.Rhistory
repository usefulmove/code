"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints %>% distinct(Finding)
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
filter(Administrative_Closure!="Duplication", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints %>% distinct(Finding)
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Administrative_Closure!="Duplication", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints %>% distinct(Finding)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
theme_set(theme_minimal())
source("../library/ded/ded.R")
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints %>%
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
complaints
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
print(complaints)
complaints
complaints %>%
group_by(ctznRace) %>%
summarise(count=n(), .groups="drop") %>%
mutate(ctznRace=fct_reorder(ctznRace, count)) %>%
ggplot(aes(ctznRace, count)) +
geom_col()
complaints %>%
filter(!is.na(ctznRace)) %>%
group_by(ctznRace) %>%
summarise(count=n(), .groups="drop") %>%
mutate(ctznRace=fct_reorder(ctznRace, desc(count))) %>%
ggplot(aes(ctznRace, count)) +
geom_col()
complaints %>%
filter(!is.na(ctznRace)) %>%
group_by(ctznRace) %>%
summarise(count=n(), .groups="drop") %>%
mutate(ctznRace=fct_reorder(ctznRace, desc(count))) %>%
ggplot(aes(ctznRace, count)) +
geom_col(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Demographics")
complaints %>%
distinct(Allegation)
complaints %>%
count(Allegation)
complaints %>%
count(Result)
complaints %>%
count(ofcrSex)
complaints %>%
count(ofcrSex)
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
) %>%
ded_recode(ofcrSex,
"Male=M",
"Male=MALE",
"Female=F",
"Female=FEMALE",
"Unknown=UNKNOWN"
)
complaints %>%
count(ofcrSex)
complaints %>%
ggplot(aes(ofcrSex)) +
geom_bar()
complaints %>%
ggplot(aes(ofcrSex)) +
geom_bar(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Officer Gender")
complaints %>%
filter(!is.na(ctznRace)) %>%
group_by(ctznRace) %>%
summarise(count=n(), .groups="drop") %>%
mutate(ctznRace=fct_reorder(ctznRace, desc(count))) %>%
ggplot(aes(ctznRace, count)) +
geom_col(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Demographics")
complaints
summary(complaints)
complaints %>% count(ofcrRace)
complaints %>% count(ofcrSex)
complaints %>% count(Result)
complaints %>%
ggplot(aes(Result)) +
geom_bar(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Result")
complaints %>%
ggplot(aes(Result)) +
geom_bar(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Result") +
facet_grid(ctznRace ~ )
complaints %>%
ggplot(aes(Result)) +
geom_bar(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Result")
complaints %>%
ggplot(aes(Result)) +
geom_bar(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Result") +
facet_grid(ctznRace ~ )
complaints %>%
ggplot(aes(Result)) +
geom_bar(fill = "#00c0ff", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Result") +
facet_grid(ctznRace ~ .)
complaints %>%
ggplot(aes(Result)) +
geom_bar(alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Result")
complaints %>%
ggplot(aes(Result)) +
geom_bar(ase(fill=Finding),alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x = "", y = "", title = "Complaint Result")
complaints %>%
ggplot(aes(Result)) +
geom_bar(ase(fill=Finding), alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Complaint Result")
complaints
complaints %>%
ggplot(aes(Result)) +
geom_bar(ase(fill=Finding), alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Complaint Result")
complaints %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Complaint Result")
complaints %>%
filter(!is.na(ctznRace)) %>%
group_by(ctznRace) %>%
summarise(count=n(), .groups="drop") %>%
mutate(ctznRace=fct_reorder(ctznRace, desc(count))) %>%
ggplot(aes(ctznRace, count)) +
geom_col(fill="#00c0ff", color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Complaint Demographics")
complaints %>%
ggplot(aes(ofcrSex)) +
geom_bar(fill="#00c0ff", color="black", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Officer Gender")
complaints %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Complaint Result")
library(RColorBrewer)
complaints %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
scale_fill_brewer(palette="Set3") +
labs(x="", y="", title="Complaint Result")
complaints %>%
filter(Finding!="**Pending**") %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
scale_fill_brewer(palette="Set3") +
labs(x="", y="", title="Complaint Result")
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Upheld"
)
) %>%
ded_recode(ofcrSex,
"Male=M",
"Male=MALE",
"Female=F",
"Female=FEMALE",
"Unknown=UNKNOWN"
)
complaints %>%
filter(Finding!="**Pending**") %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
scale_fill_brewer(palette="Set3") +
labs(x="", y="", title="Complaint Result")
complaints %>%
filter(Finding!="**Pending**") %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
scale_fill_brewer(palette="Set1") +
labs(x="", y="", title="Complaint Result")
complaints %>%
filter(Finding!="**Pending**") %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
scale_fill_brewer(palette="Set2") +
labs(x="", y="", title="Complaint Result")
complaints <- readr::read_csv("DPD_Citizen_Complaints.csv")
complaints <- complaints %>%
#filter(Finding!="**Pending**", ) %>%
ded_recode(ctznRace,
"Other=Select",
"Other=Unknown"
) %>%
mutate(ctznRace=fct_lump(ctznRace, n=7)) %>%
ded_recode(Allegation,
"Arrest=arrest",
"Force=force",
"Procedure=procedure",
"Procedure=PROcedure",
"Search=search"
) %>%
mutate(Result=ifelse(Finding %in% c("Admin. Closure",
"Exonerated",
"Inconclusive",
"No Charge",
"Not Sustained",
"Unfounded",
"Void"
),
"Dismissed", "Sustained"
)
) %>%
ded_recode(ofcrSex,
"Male=M",
"Male=MALE",
"Female=F",
"Female=FEMALE",
"Unknown=UNKNOWN"
)
complaints %>%
filter(Finding!="**Pending**") %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
scale_fill_brewer(palette="Set2") +
labs(x="", y="", title="Complaint Result")
complaints %>%
filter(Finding!="**Pending**") %>%
ggplot(aes(Result)) +
geom_bar(aes(fill=Finding), color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
scale_fill_brewer(palette="Accent") +
labs(x="", y="", title="Complaint Result")
complaints %>%
filter(!is.na(ctznRace)) %>%
group_by(ctznRace) %>%
summarise(count=n(), .groups="drop") %>%
mutate(ctznRace=fct_reorder(ctznRace, desc(count))) %>%
ggplot(aes(ctznRace, count)) +
geom_col(fill="#cbbedd", color="black", alpha=0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Complaint Demographics")
complaints %>%
ggplot(aes(ofcrSex)) +
geom_bar(fill="#cbbedd", color="black", alpha = 0.8) +
scale_y_continuous(labels=scales::comma) +
labs(x="", y="", title="Officer Gender")
