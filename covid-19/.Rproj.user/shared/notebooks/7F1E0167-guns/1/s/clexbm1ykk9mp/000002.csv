"0","```r
# per capita gun ownership by region
gowners <- read.delim(\"raw-thoughtco-guns-by-state.txt\")

gowners <- gowners %>% 
    mutate(state=as.character(State),
           guns_pcap=X..of.guns.per.capita,
           guns_reg=as.numeric(gsub(\",\",\"\",as.character(X..of.guns.registered))),
           ) %>%
    select(state,guns_pcap,guns_reg) %>% 
    mutate(state=replace(state,state==\"Washington D.C.\",\"District of Columbia\")) %>% 
    left_join(murders,by=\"state\") %>%  # join with murders data frame for population
    mutate(state=as.factor(state)) %>% 
    select(-region,-total) %>%
    left_join(states,by=c(\"state\"=\"State\")) %>%  # join with states frame for region
    rename(region=Region) %>%
    select(-State.Code,-Division)

gowners %>% 
    group_by(region) %>% 
    summarise(guns_per_capita=sum(guns_reg)/sum(population)) %>%
    ggplot(aes(x=reorder(region,guns_per_capita),y=guns_per_capita*1e3)) +
        geom_bar(stat=\"identity\",width=0.6,alpha=0.8,fill=\"#78c1f9\") +
        coord_flip() +
        theme_minimal() +
        ylab(\"guns (per thousand)\") + xlab(\"\") +
        ggtitle(\"guns per capita by region\")

```"
