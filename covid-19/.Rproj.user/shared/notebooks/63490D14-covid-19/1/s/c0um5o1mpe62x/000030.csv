"0","# import data"
"0","global_cases <- read_csv(""https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"")"
"0",""
"0","global_deaths <- read_csv(""https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv"")"
"0",""
"0","eu_countries <- read_csv(""../library/eu-countries.csv"")"
"0",""
"0","# tidy data"
"0","#"
"0","#   data comes in an untidy format with date columns containing the cumulative number of case or death entries"
"0",""
"0","global_cases <- global_cases %>% "
"0","  pivot_longer("
"0","    cols = 5:ncol(global_cases),"
"0","    names_to = ""date"","
"0","    values_to = ""cases"""
"0","  ) %>% "
"0","  rename("
"0","    province = `Province/State`,"
"0","    country = `Country/Region`,"
"0","    latitude = Lat,"
"0","    longitude = Long"
"0","  ) %>% "
"0","  mutate("
"0","    date = lubridate::mdy(date)"
"0","  )"
"0",""
"0","eu_cases <- global_cases %>% "
"0","  filter(country %in% c(eu_countries$Country, ""Czechia""))"
"0",""
"0","eu_combined_cases <- eu_cases %>% "
"0","  group_by(date) %>% "
"0","  summarise(cases = sum(cases)) %>% "
"0","  mutate("
"0","    ncases = cases - lag(cases, default = cases[1])"
"0","  )"
"0","  "
