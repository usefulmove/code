"0",""
"0","# U.S. Government Census Data (2018)"
"0","all_races <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/all_races.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","asian_alone <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/asian_alone.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","asian_comb <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/asian_comb.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","black_alone <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/black_alone.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","black_comb <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/black_comb.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","hispanic <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/hispanic.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","white_alone <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/white_alone.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","white_alone_nonhispanic <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/white_alone_nonhispanic.xls"", range = ""A14:B54"", col_names = FALSE)"
"0","white_comb <- read_excel(""C:/Users/duane/repos/dedmonds/code/income-distribution/census_gov_2018/white_comb.xls"", range = ""A14:B54"", col_names = FALSE)"
"0",""
"0","# add variable names"
"0","names(all_races) <- c(""date_range"", ""n"")"
"0","names(asian_alone) <- c(""date_range"", ""n"")"
"0","names(asian_comb) <- c(""date_range"", ""n"")"
"0","names(black_alone) <- c(""date_range"", ""n"")"
"0","names(black_comb) <- c(""date_range"", ""n"")"
"0","names(hispanic) <- c(""date_range"", ""n"")"
"0","names(white_alone) <- c(""date_range"", ""n"")"
"0","names(white_alone_nonhispanic) <- c(""date_range"", ""n"")"
"0","names(white_comb) <- c(""date_range"", ""n"")"
"0",""
"0","# change class of count"
"0","all_races$n <- as.integer(all_races$n)"
"0","asian_alone$n <- as.integer(asian_alone$n)"
"0","asian_comb$n <- as.integer(asian_comb$n)"
"0","black_alone$n <- as.integer(black_alone$n)"
"0","black_comb$n <- as.integer(black_comb$n)"
"0","hispanic$n <- as.integer(hispanic$n)"
"0","white_alone$n <- as.integer(white_alone$n)"
"0","white_alone_nonhispanic$n <- as.integer(white_alone_nonhispanic$n)"
"0","white_comb$n <- as.integer(white_comb$n)"
"0",""
"0","# split date range into two variables, a minimum and maximum for the income range"
"0","asian_alone <- separate( asian_alone, date_range, into=c(""low"",""high""), sep="" to "")"
"0","asian_comb <- separate( asian_comb, date_range, into=c(""low"",""high""), sep="" to "")"
"0","black_alone <- separate( black_alone, date_range, into=c(""low"",""high""), sep="" to "")"
"0","black_comb <- separate( black_comb, date_range, into=c(""low"",""high""), sep="" to "")"
"0","hispanic <- separate( hispanic, date_range, into=c(""low"",""high""), sep="" to "")"
"0","white_alone <- separate( white_alone, date_range, into=c(""low"",""high""), sep="" to "")"
"0","white_alone_nonhispanic <- separate( white_alone_nonhispanic, date_range, into=c(""low"",""high""), sep="" to "")"
"0","white_comb <- separate( white_comb, date_range, into=c(""low"",""high""), sep="" to "")"
"0",""
"0",""
"0","# handle first and last observation exceptions"
"0","asian_alone$high[1] <- asian_alone$low[1]"
"0","asian_alone$low[1] <- 0"
"0","asian_alone$high[nrow(asian_alone)] <- 250000"
"0",""
"0","asian_comb$high[1] <- asian_comb$low[1]"
"0","asian_comb$low[1] <- 0"
"0","asian_comb$high[nrow(asian_comb)] <- 250000"
"0",""
"0","black_alone$high[1] <- black_alone$low[1]"
"0","black_alone$low[1] <- 0"
"0","black_alone$high[nrow(black_alone)] <- 250000"
"0",""
"0","black_comb$high[1] <- black_comb$low[1]"
"0","black_comb$low[1] <- 0"
"0","black_comb$high[nrow(black_comb)] <- 250000"
"0",""
"0","hispanic$high[1] <- hispanic$low[1]"
"0","hispanic$low[1] <- 0"
"0","hispanic$high[nrow(hispanic)] <- 250000"
"0",""
"0","white_alone$high[1] <- white_alone$low[1]"
"0","white_alone$low[1] <- 0"
"0","white_alone$high[nrow(white_alone)] <- 250000"
"0",""
"0","white_alone_nonhispanic$high[1] <- white_alone_nonhispanic$low[1]"
"0","white_alone_nonhispanic$low[1] <- 0"
"0","white_alone_nonhispanic$high[nrow(white_alone_nonhispanic)] <- 250000"
"0",""
"0","white_comb$high[1] <- white_comb$low[1]"
"0","white_comb$low[1] <- 0"
"0","white_comb$high[nrow(white_comb)] <- 250000"
"0",""
"0","# isolate numeric portion of the string"
"0","asian_alone$low <- str_match(asian_alone$low,rep(""[0-9,]+"",nrow(asian_alone)))"
"0","asian_alone$high <- str_match(asian_alone$high,rep(""[0-9,]+"",nrow(asian_alone)))"
"0",""
"0","asian_comb$low <- str_match(asian_comb$low,rep(""[0-9,]+"",nrow(asian_comb)))"
"0","asian_comb$high <- str_match(asian_comb$high,rep(""[0-9,]+"",nrow(asian_comb)))"
"0",""
"0","black_alone$low <- str_match(black_alone$low,rep(""[0-9,]+"",nrow(black_alone)))"
"0","black_alone$high <- str_match(black_alone$high,rep(""[0-9,]+"",nrow(black_alone)))"
"0",""
"0","black_comb$low <- str_match(black_comb$low,rep(""[0-9,]+"",nrow(black_comb)))"
"0","black_comb$high <- str_match(black_comb$high,rep(""[0-9,]+"",nrow(black_comb)))"
"0",""
"0","hispanic$low <- str_match(hispanic$low,rep(""[0-9,]+"",nrow(hispanic)))"
"0","hispanic$high <- str_match(hispanic$high,rep(""[0-9,]+"",nrow(hispanic)))"
"0",""
"0","white_alone$low <- str_match(white_alone$low,rep(""[0-9,]+"",nrow(white_alone)))"
"0","white_alone$high <- str_match(white_alone$high,rep(""[0-9,]+"",nrow(white_alone)))"
"0",""
"0","white_alone_nonhispanic$low <- str_match(white_alone_nonhispanic$low,rep(""[0-9,]+"",nrow(white_alone_nonhispanic)))"
"0","white_alone_nonhispanic$high <- str_match(white_alone_nonhispanic$high,rep(""[0-9,]+"",nrow(white_alone_nonhispanic)))"
"0",""
"0","white_comb$low <- str_match(white_comb$low,rep(""[0-9,]+"",nrow(white_comb)))"
"0","white_comb$high <- str_match(white_comb$high,rep(""[0-9,]+"",nrow(white_comb)))"
"0",""
"0","#str_view(x,""[0123456789,]+"")"
"0",""
"0","asian_alone$low <- as.numeric(gsub("","","""",asian_alone$low))"
"0","asian_alone$high <- as.numeric(gsub("","","""",asian_alone$high))"
"0",""
"0","asian_comb$low <- as.numeric(gsub("","","""",asian_comb$low))"
"0","asian_comb$high <- as.numeric(gsub("","","""",asian_comb$high))"
"0",""
"0","black_alone$low <- as.numeric(gsub("","","""",black_alone$low))"
"0","black_alone$high <- as.numeric(gsub("","","""",black_alone$high))"
"0",""
"0","black_comb$low <- as.numeric(gsub("","","""",black_comb$low))"
"0","black_comb$high <- as.numeric(gsub("","","""",black_comb$high))"
"0",""
"0","hispanic$low <- as.numeric(gsub("","","""",hispanic$low))"
"0","hispanic$high <- as.numeric(gsub("","","""",hispanic$high))"
"0",""
"0","white_alone$low <- as.numeric(gsub("","","""",white_alone$low))"
"0","white_alone$high <- as.numeric(gsub("","","""",white_alone$high))"
"0",""
"0","white_alone_nonhispanic$low <- as.numeric(gsub("","","""",white_alone_nonhispanic$low))"
"0","white_alone_nonhispanic$high <- as.numeric(gsub("","","""",white_alone_nonhispanic$high))"
"0",""
"0","white_comb$low <- as.numeric(gsub("","","""",white_comb$low))"
"0","white_comb$high <- as.numeric(gsub("","","""",white_comb$high))"
