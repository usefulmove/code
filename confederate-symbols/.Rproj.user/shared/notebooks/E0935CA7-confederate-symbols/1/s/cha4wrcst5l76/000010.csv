"0","clabel_df <- tribble("
"0","  ~x, ~y, ~label,"
"0","  as.Date(""1865-05-09""), 37.5, ""American Civil War\n(1861-1865)"","
"0","  as.Date(""1945-05-07""), 17.5, ""End of World War II"","
"0","  as.Date(""1964-07-02""), 14, ""Civil Rights Act of 1964"","
"0",")"
"0",""
"0","confeds %>%"
"0","  filter("
"0","    !is.na(year_dedicated),"
"0","    year_dedicated != ""Unknown"""
"0","  ) %>%"
"0","  mutate(year = str_extract(string = year_dedicated, pattern = ""[0-9]{4}"")) %>%"
"0","  relocate(year, .after = year_dedicated) %>%"
"0","  filter(!is.na(year)) %>%"
"0","  mutate(year = as.Date(paste(year, ""-06-30"", sep = """"))) %>%"
"0","  group_by(year) %>%"
"0","  summarise(count = n(), .groups = ""drop"") %>%"
"0","  ggplot(aes(year, count)) +"
"0","    geom_rect("
"0","      xmin = as.Date(""1861-04-12"", origin = ""1970-01-01""),"
"0","      xmax = as.Date(""1865-05-09"", origin = ""1970-01-01""),"
"0","      ymin = 0,"
"0","      ymax = +Inf,"
"0","      alpha = 0.02, fill = ""lightgrey"""
"0","    ) + # civil war"
"0","    geom_vline("
"0","      xintercept = as.Date(""1945-05-07"", origin = ""1970-01-01""),"
"0","      color = ""lightgrey"","
"0","      linetype = ""dotted"","
"0","      size = 1.0"
"0","    ) + # world war 2"
"0","    geom_col("
"0","      width = 365,"
"0","      fill = prim_color,"
"0","      color = ""black"""
"0","    ) +"
"0","    labs("
"0","      title = ""Publicly-Supported Confederate Symbols by Year of Dedication"","
"0","      x = ""year dedicated"", y = ""number of publicly-supported symbols"""
"0","    ) +"
"0","    scale_x_date("
"0","      breaks = seq.Date(as.Date(""1860-01-01"", origin = ""1970-01-01""),"
"0","        as.Date(""2020-01-01"", origin = ""1970-01-01""),"
"0","        by = ""20 years"""
"0","      ),"
"0","      date_labels = ""%Y"""
"0","    ) +"
"0","    ggrepel::geom_text_repel("
"0","      data = clabel_df, aes(x = x, y = y, label = label),"
"0","      hjust = ""left"", nudge_x = 4 * 365,"
"0","      segment.color = ""#377eb8"""
"0","    )"
